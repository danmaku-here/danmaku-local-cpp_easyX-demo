demo目前不保证是否可用，仅供原理展示

# 弹幕系统

## 背景

上周日支部大舞台中，用到了一个弹幕系统（自己写的，效果不错），而这次翻转课堂，按照同样的原理，用VS重写了一个demo对滚动弹幕进行了实现。

翻转课堂中主要是讲解相关结构的逻辑和代码的实现。（在一定程度上也符合原题目Win32API，但是后来决定更改翻转课堂题目为"弹幕系统"）

## 环境

Windows10 1909（任意Windows均可） && Visual Studio 2017/2019（包含EasyX图形库）

弹幕发送地址`http://doc.zsh2517.com/`

同一时刻只允许单一客户端运行。否则会导致消息接收失败等

## 配置

`danmaku.cpp`文件中44~46行为设置项，包含了
```cpp
int chongdie = 0;//是否允许弹幕重叠
int duration = 100;//刷新率是25fps,这里设定帧数（每个弹幕滚动时间）
int n_track = 20;//轨道数目
```

主要设定是这些。其他如帧率、轮询周期等，在main函数中设定，没有独立出来。

## 结构

原项目
| 模块 | 作者 |
| :-- |:-- |
| WEB前端 | 陈天宇 |
| 服务器后端 | 郑昊卓 |
| 本地弹幕端 | 张世豪 |

本项目网页前端和服务器后端沿用原来的。其他内容如下
| 模块 | 作者 |
|:-- |:-- |
| NetWork.h（网络通信模块） | 郑昊卓 |
| danmaku.cpp（弹幕绘制等） | 张世豪 |
| json.hpp（json解析库） | 来自网络 |